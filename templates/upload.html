<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload - Video Stream</title>
</head>
<body>

<h3>Live Video Stream</h3>
<img src="{{ url_for('video_feed') }}" width="50%" id="video-stream">

<!-- ì´¬ì˜ ë²„íŠ¼ -->
<button id="capture-btn">ğŸ“¸ ì´¬ì˜</button>

<!-- ìº¡ì²˜ëœ ì´ë¯¸ì§€ í‘œì‹œ -->
<h3>Captured Image</h3>
<img id="captured-image" src="" width="50%" style="display: none;">

<script>
    document.getElementById('capture-btn').addEventListener('click', function() {
        fetch('/capture', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    let imgTag = document.getElementById('captured-image');
                    imgTag.src = data.image_url;  // Flaskì—ì„œ ë°›ì€ ì´ë¯¸ì§€ URL ì ìš©
                    imgTag.style.display = 'block';  // ìº¡ì²˜ëœ ì´ë¯¸ì§€ ë³´ì´ê¸°
                } else {
                    alert("ì´¬ì˜ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤!");
                }
            })
            .catch(error => console.error('Error:', error));
    });
</script>

</body>
</html>
