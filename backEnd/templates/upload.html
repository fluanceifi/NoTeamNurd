<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload - Video Stream</title>
</head>
<body>

<h3>Live Video Stream</h3>
<img src="{{ url_for('video_feed') }}" width="50%" id="video-stream">

<!-- ì´¬ì˜ ë²„íŠ¼ -->
<button id="capture-btn">ğŸ“¸ ì´¬ì˜</button>

<!-- ìº¡ì²˜ëœ ì´ë¯¸ì§€ í‘œì‹œ -->
<h3>Captured Image</h3>
<img id="captured-image" src="" width="50%" style="display: none;">

<!-- HSV ê²°ê³¼ ì¶œë ¥ ì˜ì—­ -->
<div id="result" style="margin-top: 20px;"></div>

<script>
    document.getElementById('capture-btn').addEventListener('click', function () {
        fetch('/capture', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // HSV/RGB ê²°ê³¼ ì¶œë ¥
                    const result = data.result;
                    const resultDiv = document.getElementById('result');
                    resultDiv.innerHTML = `
                        <h3>ğŸ¨ ë¶„ì„ëœ í”¼ë¶€ ìƒ‰ìƒ ì •ë³´</h3>
                        <p><strong>RGB:</strong> R=${result.r}, G=${result.g}, B=${result.b}</p>
                        <p><strong>HSV:</strong> H=${result.h}, S=${result.s}, V=${result.v}</p>
                    `;
                } else {
                    alert("âŒ ì´¬ì˜ ì‹¤íŒ¨: " + data.error);
                }
            })
            .catch(error => console.error('Error:', error));
    });
</script>

</body>
</html>
